import{x as C,j as e,r as d,S as O,y as l}from"./index-4e201d1a.js";import{y as H,u as w,e as _,P as $,f as q,M as G,i as J,j as K,k as Q,T as V,C as u}from"./Layout-7b360987.js";import{u as W}from"./useFilter-1663f56c.js";import{B as X,C as Y}from"./BulkActionDrawer-7e43914e.js";import{C as Z,a as ee}from"./CategoryTable-32438c91.js";import{U as le}from"./UploadManyTwo-dcece95f.js";import{N as se}from"./NotFound-40b6c8ae.js";import"./iconBase-c8e09bc7.js";import"./AdminServices-04341510.js";import"./InputArea-1751f9c9.js";import"./dayjs.min-8238a389.js";import"./xlsx-04f2268f.js";import"./EditDeleteButton-4abd9477.js";const ae=({title:o,handleProcess:r,processOption:a})=>{const{t:i}=C();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex flex-wrap items-center float-right",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:o}),e.jsx(H,{onChange:r,checked:a,className:"react-switch md:ml-0 ml-3",uncheckedIcon:e.jsx("div",{style:{display:"flex",justifyContent:"left",alignItems:"center",height:"100%",fontSize:12,color:"white",paddingRight:50,paddingTop:1,marginLeft:-40,whiteSpace:"nowrap"},children:i("ParentsOnly")}),width:115,height:28,handleDiameter:26,offColor:"#0e9f6e",onColor:"#2F855A",checkedIcon:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:12,color:"white",paddingLeft:8,paddingTop:1},children:i("All")})})]})})})},be=()=>{var f,b;const{toggleDrawer:o,lang:r}=d.useContext(O),{data:a,loading:i,error:m}=w(u.getAllCategory),{data:y}=w(u.getAllCategories),{handleDeleteMany:T,allId:g,handleUpdateMany:N,serviceId:k}=_(),{t:s}=C(),{handleSubmitCategory:j,categoryRef:S,totalResults:v,resultsPerPage:A,dataTable:D,serviceData:c,handleChangePage:F,filename:I,isDisabled:P,handleSelectFile:B,handleUploadMultiple:M,handleRemoveSelectFile:R}=W((f=a[0])!=null&&f.children?(b=a[0])==null?void 0:b.children:a),[h,E]=d.useState(!1),[t,n]=d.useState([]),[x,U]=d.useState(!1),L=()=>{var p;E(!h),n((p=a[0])==null?void 0:p.children.map(z=>z._id)),h&&n([])};return e.jsxs(e.Fragment,{children:[e.jsx($,{children:s("Category")}),e.jsx(q,{ids:g,setIsCheck:n}),e.jsx(X,{ids:g,title:"Categories",lang:r,data:a,isCheck:t}),e.jsx(G,{children:e.jsx(Z,{id:k,data:a,lang:r})}),e.jsx(l.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsx(l.CardBody,{className:"",children:e.jsxs("form",{onSubmit:j,className:"py-3  grid gap-4 lg:gap-6 xl:gap-6  xl:flex",children:[e.jsx("div",{className:"flex justify-start w-1/2 xl:w-1/2 md:w-full",children:e.jsx(le,{title:"Categories",exportData:y,filename:I,isDisabled:P,handleSelectFile:B,handleUploadMultiple:M,handleRemoveSelectFile:R})}),e.jsxs("div",{className:"lg:flex  md:flex xl:justify-end xl:w-1/2  md:w-full md:justify-start flex-grow-0",children:[e.jsx("div",{className:"w-full md:w-40 lg:w-40 xl:w-40 mr-3 mb-3 lg:mb-0",children:e.jsxs(l.Button,{disabled:t.length<1,onClick:()=>N(t),className:"w-full rounded-md h-12 text-gray-600 btn-gray",children:[e.jsx("span",{className:"mr-2",children:e.jsx(J,{})}),s("BulkAction")]})}),e.jsx("div",{className:"w-full md:w-32 lg:w-32 xl:w-32  mr-3 mb-3 lg:mb-0",children:e.jsxs(l.Button,{disabled:t.length<1,onClick:()=>T(t),className:"w-full rounded-md h-12 bg-red-500 disabled  btn-red",children:[e.jsx("span",{className:"mr-2",children:e.jsx(K,{})}),s("Delete")]})}),e.jsx("div",{className:"w-full md:w-48 lg:w-48 xl:w-48",children:e.jsxs(l.Button,{onClick:o,className:"rounded-md h-12 w-full",children:[e.jsx("span",{className:"mr-2",children:e.jsx(Q,{})}),s("AddCategory")]})})]})]})})}),e.jsx(l.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 rounded-t-lg rounded-0 mb-4",children:e.jsx(l.CardBody,{children:e.jsx("form",{onSubmit:j,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(l.Input,{ref:S,type:"search",className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",placeholder:s("SearchCategory")})})})})}),e.jsx(ae,{title:" ",handleProcess:U,processOption:x,name:x}),i?e.jsx(V,{row:12,col:6,width:190,height:20}):m?e.jsx("span",{className:"text-center mx-auto text-red-500",children:m}):(c==null?void 0:c.length)!==0?e.jsxs(l.TableContainer,{className:"mb-8",children:[e.jsxs(l.Table,{children:[e.jsx(l.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(l.TableCell,{children:e.jsx(Y,{type:"checkbox",name:"selectAll",id:"selectAll",handleClick:L,isChecked:h})}),e.jsx(l.TableCell,{children:s("catIdTbl")}),e.jsx(l.TableCell,{children:s("catIconTbl")}),e.jsx(l.TableCell,{children:s("CatTbName")}),e.jsx(l.TableCell,{children:s("CatTbDescription")}),e.jsx(l.TableCell,{className:"text-center",children:s("catPublishedTbl")}),e.jsx(l.TableCell,{className:"text-right",children:s("catActionsTbl")})]})}),e.jsx(ee,{data:a,lang:r,isCheck:t,categories:D,setIsCheck:n,showChild:x})]}),e.jsx(l.TableFooter,{children:e.jsx(l.Pagination,{totalResults:v,resultsPerPage:A,onChange:F,label:"Table navigation"})})]}):e.jsx(se,{title:"Sorry, There are no categories right now."})]})};export{be as default};
