import{j as e,y as s,O as R,r as g,S as U,L as O}from"./index-4e201d1a.js";import{d as T,m as H,D as z,e as k,f as B,M as F,s as A,g as q,u as C,P as G,n as J,k as K,i as Q,j as W,A as v}from"./Layout-7b360987.js";import{S as X,C as P,B as Y}from"./BulkActionDrawer-7e43914e.js";import{E as Z}from"./EditDeleteButton-4abd9477.js";import{L as S,E as D}from"./AdminServices-04341510.js";import{I as $}from"./InputArea-1751f9c9.js";import{u as ee}from"./useAttributeSubmit-8fb65634.js";import{L as se}from"./Loading-225242fc.js";import{N as le}from"./NotFound-40b6c8ae.js";import{u as ae}from"./useFilter-1663f56c.js";import"./iconBase-c8e09bc7.js";import"./dayjs.min-8238a389.js";import"./xlsx-04f2268f.js";const E=({id:r})=>{const{handleSubmit:t,onSubmits:i,register:n,errors:j,published:d,setPublished:o,handleSelectLanguage:l}=ee(r);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:r?e.jsx(T,{register:n,handleSelectLanguage:l,title:"Add/Update Attribute Valu",description:"Add your attribute values and necessary information from here"}):e.jsx(T,{register:n,handleSelectLanguage:l,title:"Add/Update Attribute Values",description:"Add your attribute values and necessary information from here"})}),e.jsx(H,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsxs("form",{onSubmit:t(i),children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 items-center",children:[e.jsx(S,{label:"Display Name"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx($,{register:n,label:"Display Name",name:"name",type:"text",placeholder:"Color or Size or Dimension or Material or Fabric"}),e.jsx(D,{errorName:j.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 items-center",children:[e.jsx(S,{label:"Published"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(X,{handleProcess:o,processOption:d}),e.jsx(D,{errorName:j.published})]})]})]}),e.jsx(z,{id:r,title:"Attribute"})]})})]})},re=({att:r,isCheck:t,setIsCheck:i,lang:n,loading:j,childAttributes:d})=>{const{title:o,serviceId:l,handleModalOpen:c,handleUpdate:b}=k(),m=a=>{const{id:x,checked:h}=a.target;i([...t,x]),h||i(t.filter(u=>u!==x))};return e.jsxs(e.Fragment,{children:[t.length<1&&e.jsx(B,{id:l,title:o}),t.length<2&&e.jsx(F,{children:e.jsx(E,{id:l})}),e.jsx(s.TableBody,{children:d==null?void 0:d.map((a,x)=>{var h;return e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{children:e.jsx(P,{type:"checkbox",name:"child-attribute",id:a._id,handleClick:m,isChecked:t==null?void 0:t.includes(a._id)})}),e.jsx(s.TableCell,{className:"font-semibold uppercase text-xs",children:(h=a==null?void 0:a._id)==null?void 0:h.substring(20,24)}),e.jsx(s.TableCell,{className:"font-medium text-sm",children:A(a==null?void 0:a.name,n)}),e.jsx(s.TableCell,{className:"font-medium text-sm",children:r==null?void 0:r.option}),e.jsx(s.TableCell,{className:"text-center",children:e.jsx(q,{id:a._id,status:a.status})}),e.jsx(s.TableCell,{children:e.jsx(Z,{id:a._id,isCheck:t,setIsCheck:i,handleUpdate:b,handleModalOpen:c,title:A(a.name,n)})})]},x+1)})})]})},be=()=>{let{id:r}=R();const{handleDeleteMany:t,allId:i,serviceId:n,handleUpdateMany:j}=k(),{toggleDrawer:d,lang:o}=g.useContext(U),{data:l,loading:c,error:b}=C(()=>v.getAttributeById(r)),{data:m}=C(()=>v.getAllAttributes({type:"attribute",option:"Dropdown",option1:"Radio"})),{totalResults:a,resultsPerPage:x,dataTable:h,serviceData:u,handleChangePage:I}=ae(l==null?void 0:l.variants),[w,L]=g.useState(!1),[p,f]=g.useState([]),[M,V]=g.useState([]),_=()=>{var N;L(!w),f((N=l==null?void 0:l.variants)==null?void 0:N.map(y=>y._id)),w&&f([])};return g.useEffect(()=>{const N=m==null?void 0:m.filter(y=>y._id!==r);V(N)},[m,r]),e.jsxs(e.Fragment,{children:[e.jsx(G,{children:"Attributes Values"}),e.jsx(B,{ids:i,setIsCheck:f,title:"Selected Attribute Value(s)"}),e.jsx(Y,{attributes:M,ids:i,title:"Attribute Value(s)",childId:r}),e.jsx(F,{children:e.jsx(E,{id:n})}),e.jsx("div",{className:"flex items-center pb-4",children:e.jsxs("ol",{className:"flex items-center w-full overflow-hidden font-serif",children:[e.jsx("li",{className:"text-sm pr-1 transition duration-200 ease-in cursor-pointer hover:text-emerald-500 font-semibold",children:e.jsx(O,{className:"text-blue-700",to:"/attributes",children:"Attributes"})}),e.jsxs("span",{className:"flex items-center font-serif",children:[e.jsxs("li",{className:"text-sm mt-[1px]",children:[" ",e.jsx(J,{})," "]}),e.jsx("li",{className:"text-sm pl-1 font-semibold ",children:!c&&A(l==null?void 0:l.title,o)})]})]})}),e.jsx(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsxs(s.CardBody,{className:"py-3 grid gap-4 justify-end lg:gap-4 xl:gap-4 md:flex xl:flex",children:[e.jsx("div",{className:"flex justify-end items-end",children:e.jsxs(s.Button,{onClick:d,className:"rounded-md h-12",children:[e.jsx("span",{className:"mr-3",children:e.jsx(K,{})}),"Add Value"]})}),e.jsx("div",{className:"w-full md:w-24 lg:w-24 xl:w-24",children:e.jsxs(s.Button,{disabled:p.length<1,onClick:()=>j(p),className:"w-full rounded-md h-12",children:[e.jsx(Q,{}),"Bulk Action"]})}),e.jsxs(s.Button,{disabled:p.length<1,onClick:()=>t(p),className:"rounded-md h-12 bg-red-500",children:[e.jsx("span",{className:"mr-3",children:e.jsx(W,{})}),"Delete"]})]})}),c?e.jsx(se,{loading:c}):b?e.jsx("span",{className:"text-center mx-auto text-red-500",children:b}):(u==null?void 0:u.length)!==0?e.jsxs(s.TableContainer,{className:"mb-8",children:[e.jsxs(s.Table,{children:[e.jsx(s.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(s.TableCell,{children:e.jsx(P,{type:"checkbox",name:"selectAll",id:"selectAll",handleClick:_,isChecked:w})}),e.jsx(s.TableCell,{children:"Id"}),e.jsx(s.TableCell,{children:"Name"}),e.jsx(s.TableCell,{children:"Type"}),e.jsx(s.TableCell,{className:"text-center",children:"Status"}),e.jsx(s.TableCell,{className:"text-right",children:"Actions"})]})}),e.jsx(re,{att:l,childAttributes:h,isCheck:p,setIsCheck:f,lang:o,loading:c})]}),e.jsx(s.TableFooter,{children:e.jsx(s.Pagination,{totalResults:a,resultsPerPage:x,onChange:I,label:"Table navigation"})})]}):e.jsx(le,{title:"Sorry, There are no attributes right now."})]})};export{be as default};
